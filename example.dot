digraph structs {
  
  "state0" [ style = "filled, bold" penwidth = 2 fillcolor = "white" fontname = "Courier New" shape = "Mrecord" 
  
  
  label =< <table border="0" cellborder="0" cellpadding="3" bgcolor="white"> <tr><td bgcolor="black" align="center" colspan="2"><font color="white">State #0</font></td></tr>
  
  <tr><td align="left" port="r0">&#40;0&#41; s -&gt; &bull;e $ </td></tr>
  <tr><td align="left" port="r1">&#40;1&#41; e -&gt; &bull;l '=' r </td></tr>
  <tr><td align="left" port="r2">&#40;2&#41; e -&gt; &bull;r </td></tr>
  <tr><td align="left" port="r3">&#40;3&#41; l -&gt; &bull;'*' r </td></tr>
  <tr><td align="left" port="r4">&#40;4&#41; l -&gt; &bull;'n' </td></tr>
  <tr><td align="left" port="r5">&#40;5&#41; r -&gt; &bull;l </td></tr></table>> ];
  
  subgraph cluster_0 {
    node [shape=record];
    struct1 [label="<f1> true \n ()"];
    struct2 [label="<f0> $a \n () |<f1> = \n ('a' \=\> \{TyInt\}) |<f2> 1 \n ()"];
    struct3 [label="<f0> $a \n () |<f1> = \n ('a' \=\> \{TyBool\}) |<f2> true \n ()"];
		label = "if";
	}

    node [shape=record];
    node1 [label="init", shape=circle]
    node2 [label="final", shape=circle, style=filled, fillcolor=gray]
    struct4 [label="<f0> $b \n ('a' \=\> \{TyInt, TyBool\}) |<f1> = \n ('a' \=\> \{TyInt, TyBool\}, 'b' \=\> \{TyInt\}) |<f2> 2 \n ('a' \=\> \{TyInt, TyBool\}) "];

    node1 -> struct1:f1;
    struct1:f1 -> struct2:f2;
    struct2:f2 -> struct2:f0;
    struct2:f0 -> struct2:f1;

    struct1:f1 -> struct3:f2;
    struct3:f2 -> struct3:f0;
    struct3:f0 -> struct3:f1;
    
    struct2:f1 -> struct4:f2;    
    struct3:f1 -> struct4:f2;    

    struct4:f2 -> struct4:f0;
    struct4:f0 -> struct4:f1;
    struct4:f1 -> node2;
}