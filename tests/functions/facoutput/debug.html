<!DOCTYPE HTML>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><link rel="stylesheet" type="text/css" href="http://dl.dropbox.com/u/279177/softtyper/css/webapp.css" media="screen"><title>Soft typing for PHP5</title></head><body><div id="page"><div id="headerTitle">Soft typing for PHP 5</div><div id="headerSubtext"><a href="https://github.com/marcelosousa/soft-typing-PHP5" style="text-decoration: none">https://github.com/marcelosousa/soft-typing-PHP5</a></div><div class="topNaviagationLink"><a href="index.html">Home</a><a href="analysis.html">Analysis</a></div></div><div class="contentBox"><hr><div id="contentTitle">Code for analysis</div><div class="innerBox"><div class="contentText"><pre><code>&lt;?
function fac() {
    if ($n == 0) {
        return 1
    } else {
        $#21 = $n - 1;
        $#19 := fac($#21,);
        return $n * $#19
    }
};
$#40 = 5;
$a := fac($#40,)
?&gt;</code></pre></div></div><hr><div id="contentTitle">Parser (sglri) result</div><div class="innerBox"><div class="contentText"><p>Document([],FullOpenTag,[FunctionDecl(&quot;fac&quot;,[Param(Variable(Simple(&quot;n&quot;)))],[IfElse(IsEqual(Variable(Simple(&quot;n&quot;)),LNumber(Deci(&quot;0&quot;))),Block([Return(Some(LNumber(Deci(&quot;1&quot;))))]),[],Block([Return(Some(Mul(Variable(Simple(&quot;n&quot;)),FunctionCall(FunctionName(&quot;fac&quot;),[Param(Min(Variable(Simple(&quot;n&quot;)),LNumber(Deci(&quot;1&quot;))))]))))]))]),Expr(Assign(Variable(Simple(&quot;a&quot;)),FunctionCall(FunctionName(&quot;fac&quot;),[Param(LNumber(Deci(&quot;5&quot;)))])))],CloseTag,[])</p></div></div><hr><div id="contentTitle">Internal debug information</div><div class="innerBox"><div class="contentText"><ul><li><p>Doc: Document [] OpenTag (Sequence (FunctionDecl &quot;fac&quot; [Param (Variable (Simple &quot;n&quot;))] (If (IsEqual (Variable (Simple &quot;n&quot;)) (Deci 0)) (Return (Deci 1)) [] (Sequence (Sequence (Expr (Assign (Variable (Simple &quot;#21&quot;)) (Min (Variable (Simple &quot;n&quot;)) (Deci 1)))) (SimplifiedFunctionCall &quot;fac&quot; [Param (Variable (Simple &quot;#21&quot;))] (Just (Variable (Simple &quot;#19&quot;))))) (Return (Mul (Variable (Simple &quot;n&quot;)) (Variable (Simple &quot;#19&quot;))))))) (Sequence (Expr (Assign (Variable (Simple &quot;#40&quot;)) (Deci 5))) (SimplifiedFunctionCall &quot;fac&quot; [Param (Variable (Simple &quot;#40&quot;))] (Just (Variable (Simple &quot;a&quot;)))))) CloseTag []</p></li><li><p>Init: 47</p></li><li><p>Final: [48]</p></li><li><p>Blocks: fromList [(1,Entry (FunctionDecl &quot;fac&quot; [Param (Variable (Simple &quot;n&quot;))] (If (IsEqual (Variable (Simple &quot;n&quot;)) (Deci 0)) (Return (Deci 1)) [] (Sequence (Sequence (Expr (Assign (Variable (Simple &quot;#21&quot;)) (Min (Variable (Simple &quot;n&quot;)) (Deci 1)))) (SimplifiedFunctionCall &quot;fac&quot; [Param (Variable (Simple &quot;#21&quot;))] (Just (Variable (Simple &quot;#19&quot;))))) (Return (Mul (Variable (Simple &quot;n&quot;)) (Variable (Simple &quot;#19&quot;)))))))),(2,Exit (FunctionDecl &quot;fac&quot; [Param (Variable (Simple &quot;n&quot;))] (If (IsEqual (Variable (Simple &quot;n&quot;)) (Deci 0)) (Return (Deci 1)) [] (Sequence (Sequence (Expr (Assign (Variable (Simple &quot;#21&quot;)) (Min (Variable (Simple &quot;n&quot;)) (Deci 1)))) (SimplifiedFunctionCall &quot;fac&quot; [Param (Variable (Simple &quot;#21&quot;))] (Just (Variable (Simple &quot;#19&quot;))))) (Return (Mul (Variable (Simple &quot;n&quot;)) (Variable (Simple &quot;#19&quot;)))))))),(9,Normal (IsEqual (Variable (Simple &quot;n&quot;)) (Deci 0))),(10,Normal (Variable (Simple &quot;n&quot;))),(12,Normal (Deci 0)),(13,Normal (Return (Deci 1))),(14,Normal (Deci 1)),(18,Normal (Assign (Variable (Simple &quot;#21&quot;)) (Min (Variable (Simple &quot;n&quot;)) (Deci 1)))),(19,Normal (Variable (Simple &quot;#21&quot;))),(21,Normal (Min (Variable (Simple &quot;n&quot;)) (Deci 1))),(22,Normal (Variable (Simple &quot;n&quot;))),(24,Normal (Deci 1)),(25,Normal Skip),(26,Normal Skip),(27,Call 27 28 (SimplifiedFunctionCall &quot;fac&quot; [Param (Variable (Simple &quot;#21&quot;))] (Just (Variable (Simple &quot;#19&quot;))))),(28,Return 27 28 (SimplifiedFunctionCall &quot;fac&quot; [Param (Variable (Simple &quot;#21&quot;))] (Just (Variable (Simple &quot;#19&quot;))))),(36,Normal (Return (Mul (Variable (Simple &quot;n&quot;)) (Variable (Simple &quot;#19&quot;))))),(37,Normal (Mul (Variable (Simple &quot;n&quot;)) (Variable (Simple &quot;#19&quot;)))),(38,Normal (Variable (Simple &quot;n&quot;))),(40,Normal (Variable (Simple &quot;#19&quot;))),(44,Normal (Assign (Variable (Simple &quot;#40&quot;)) (Deci 5))),(45,Normal (Variable (Simple &quot;#40&quot;))),(47,Normal (Deci 5)),(48,Normal Skip),(49,Normal Skip),(50,Call 50 51 (SimplifiedFunctionCall &quot;fac&quot; [Param (Variable (Simple &quot;#40&quot;))] (Just (Variable (Simple &quot;a&quot;))))),(51,Return 50 51 (SimplifiedFunctionCall &quot;fac&quot; [Param (Variable (Simple &quot;#40&quot;))] (Just (Variable (Simple &quot;a&quot;)))))]</p></li><li><p>Flow: [(1,12),(9,13),(9,24),(12,10),(10,9),(13,2),(25,36),(18,26),(21,19),(19,18),(24,22),(22,21),(26,25),(26,27),(28,25),(27,1),(2,28),(36,2),(40,38),(38,37),(44,49),(47,45),(45,44),(49,48),(49,50),(51,48),(50,1),(2,51)]</p></li><li><p>Labels: [1,2,9,10,12,13,18,19,21,22,24,25,26,27,28,36,37,38,40,44,45,47,48,49,50,51]</p></li><li><p>Nodes: fromList [(0,Sequence (FunctionDecl &quot;fac&quot; [Param (Variable (Simple &quot;n&quot;))] (If (IsEqual (Variable (Simple &quot;n&quot;)) (Deci 0)) (Return (Deci 1)) [] (Sequence (Sequence (Expr (Assign (Variable (Simple &quot;#21&quot;)) (Min (Variable (Simple &quot;n&quot;)) (Deci 1)))) (SimplifiedFunctionCall &quot;fac&quot; [Param (Variable (Simple &quot;#21&quot;))] (Just (Variable (Simple &quot;#19&quot;))))) (Return (Mul (Variable (Simple &quot;n&quot;)) (Variable (Simple &quot;#19&quot;))))))) (Sequence (Expr (Assign (Variable (Simple &quot;#40&quot;)) (Deci 5))) (SimplifiedFunctionCall &quot;fac&quot; [Param (Variable (Simple &quot;#40&quot;))] (Just (Variable (Simple &quot;a&quot;)))))),(1,FunctionDecl &quot;fac&quot; [Param (Variable (Simple &quot;n&quot;))] (If (IsEqual (Variable (Simple &quot;n&quot;)) (Deci 0)) (Return (Deci 1)) [] (Sequence (Sequence (Expr (Assign (Variable (Simple &quot;#21&quot;)) (Min (Variable (Simple &quot;n&quot;)) (Deci 1)))) (SimplifiedFunctionCall &quot;fac&quot; [Param (Variable (Simple &quot;#21&quot;))] (Just (Variable (Simple &quot;#19&quot;))))) (Return (Mul (Variable (Simple &quot;n&quot;)) (Variable (Simple &quot;#19&quot;))))))),(4,Param (Variable (Simple &quot;n&quot;))),(5,Variable (Simple &quot;n&quot;)),(6,Simple &quot;n&quot;),(8,If (IsEqual (Variable (Simple &quot;n&quot;)) (Deci 0)) (Return (Deci 1)) [] (Sequence (Sequence (Expr (Assign (Variable (Simple &quot;#21&quot;)) (Min (Variable (Simple &quot;n&quot;)) (Deci 1)))) (SimplifiedFunctionCall &quot;fac&quot; [Param (Variable (Simple &quot;#21&quot;))] (Just (Variable (Simple &quot;#19&quot;))))) (Return (Mul (Variable (Simple &quot;n&quot;)) (Variable (Simple &quot;#19&quot;)))))),(9,IsEqual (Variable (Simple &quot;n&quot;)) (Deci 0)),(10,Variable (Simple &quot;n&quot;)),(11,Simple &quot;n&quot;),(12,Deci 0),(42,Sequence (Expr (Assign (Variable (Simple &quot;#40&quot;)) (Deci 5))) (SimplifiedFunctionCall &quot;fac&quot; [Param (Variable (Simple &quot;#40&quot;))] (Just (Variable (Simple &quot;a&quot;))))),(43,Expr (Assign (Variable (Simple &quot;#40&quot;)) (Deci 5))),(44,Assign (Variable (Simple &quot;#40&quot;)) (Deci 5)),(45,Variable (Simple &quot;#40&quot;)),(46,Simple &quot;#40&quot;),(47,Deci 5),(50,SimplifiedFunctionCall &quot;fac&quot; [Param (Variable (Simple &quot;#40&quot;))] (Just (Variable (Simple &quot;a&quot;)))),(53,Param (Variable (Simple &quot;#40&quot;))),(54,Variable (Simple &quot;#40&quot;)),(55,Simple &quot;#40&quot;)]</p></li></ul></div></div><hr><div id="contentTitle">Abstract Syntax Tree</div><div class="innerBox"><div class="contentText"><center><img src="img/ast.png" width="100%" height="100%"></center></div></div><hr><div id="contentTitle">Monotone Framework</div></div><div id="container"><ul><li><p>Control Flow for Iteration 1</p><p>Solving worklist elem (-1,-1)</p><p>Worklist before effect []</p><p>Worklist after effect []</p><br><center><img src="img/1.png" width="100%" height="100%"></center></li></ul><span class="button prevButton"></span><span class="button nextButton"></span></div><script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script><script src="http://dl.dropbox.com/u/279177/softtyper/js/script.js"></script><div id="footer"><a href="mailto:dipython@gmail.com">Copyright Â© 2012 - Marcelo Sousa</a></div></body></html>